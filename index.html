<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Mines Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
:root{
 --pink:#f8b6d2;
 --pink-soft:#fde7f1;
 --pink-dark:#f29bc1;
 --green:#7dd3a7;
 --red:#ff6b6b;
}

*{box-sizing:border-box;font-family:-apple-system,BlinkMacSystemFont,"Segoe UI",Roboto}

body{
 margin:0;
 background:linear-gradient(180deg,#fde7f1,#f8b6d2);
 display:flex;
 justify-content:center;
}

.app{width:100%;max-width:420px;padding:16px}
h1{text-align:center}

.balance{
 background:rgba(255,255,255,.7);
 border-radius:16px;
 padding:12px;
 text-align:center;
 font-weight:600;
 margin-bottom:12px;
}

.controls{
 background:rgba(255,255,255,.6);
 border-radius:16px;
 padding:12px;
 margin-bottom:12px;
}

.control-row{
 display:flex;
 justify-content:space-between;
 margin-bottom:8px;
}

input,select{
 border:none;
 border-radius:12px;
 padding:6px 10px;
}

button{
 width:100%;
 border:none;
 border-radius:16px;
 padding:12px;
 font-weight:600;
 background:var(--pink-dark);
 color:white;
 cursor:pointer;
 margin-top:8px;
}

button:disabled{opacity:.5}

.grid{
 display:grid;
 grid-template-columns:repeat(5,1fr);
 gap:8px;
 margin-top:12px;
}

.cell{
 aspect-ratio:1/1;
 border-radius:14px;
 background:rgba(255,255,255,.8);
 display:flex;
 align-items:center;
 justify-content:center;
 font-size:22px;
 cursor:pointer;
}

.cell.open.safe{background:var(--green)}
.cell.open.mine{background:var(--red)}
</style>
</head>

<body>
<div class="app">

<h1>ðŸ’£ MINES</h1>

<div class="balance">
 Balance: <span id="balance">10.00</span> TON (demo)
</div>

<div class="controls">
 <div class="control-row">
  <label>Bet (min 0.1)</label>
  <input id="betInput" type="number" min="0.1" step="0.1" value="0.1">
 </div>
 <div class="control-row">
  <label>Mines</label>
  <select id="minesSelect">
   <option>5</option>
   <option>6</option>
   <option>7</option>
   <option>8</option>
   <option>9</option>
   <option>10</option>
  </select>
 </div>
 <button onclick="startMines()">Start</button>
</div>

<div class="grid" id="grid"></div>

<div style="text-align:center;margin-top:8px">
 Multiplier: <span id="multiplier">1.00</span>x
</div>

<button onclick="cashout()" id="cashoutBtn" disabled>Cash Out</button>

</div>

<script>
let balance=10;
const balanceEl=document.getElementById("balance");

function updateBalance(){balanceEl.textContent=balance.toFixed(2)}
updateBalance();

/* MINES */
let mines=[],opened=0,bet=0,mineCount=0,active=false;

function startMines(){
 bet=+betInput.value;
 mineCount=+minesSelect.value;

 if(bet<0.1||bet>balance)return alert("Invalid bet");

 balance-=bet;updateBalance();
 active=true;opened=0;mines=[];
 grid.innerHTML="";
 cashoutBtn.disabled=false;

 while(mines.length<mineCount){
  let r=Math.floor(Math.random()*25);
  if(!mines.includes(r))mines.push(r);
 }

 for(let i=0;i<25;i++){
  let c=document.createElement("div");
  c.className="cell";
  c.onclick=()=>clickCell(c,i);
  grid.appendChild(c);
 }
}

function clickCell(cell,i){
 if(!active||cell.classList.contains("open"))return;

 cell.classList.add("open");

 if(mines.includes(i)){
  cell.classList.add("mine");
  cell.textContent="ðŸ’£";
  active=false;
  cashoutBtn.disabled=true;
 }else{
  cell.classList.add("safe");
  cell.textContent="ðŸ’Ž";
  opened++;

  let multi=Math.pow(25/(25-mineCount),opened);
  multiplier.textContent=multi.toFixed(2);
 }
}

function cashout(){
 let multi=+multiplier.textContent;
 balance+=bet*multi;
 active=false;
 cashoutBtn.disabled=true;
 updateBalance();
}
</script>

</body>
</html>
