<!DOCTYPE html>
<html lang="en">
<head>
<meta charset="UTF-8">
<title>Johan Game</title>
<meta name="viewport" content="width=device-width, initial-scale=1.0">

<style>
body {
  background:#ffb6d9;
  font-family:Arial;
  margin:0;
  padding:0;
  text-align:center;
  color:#fff;
}

/* NAV BAR */
.navbar {
  display:flex;
  justify-content:space-around;
  background:#ff8cc7;
  padding:12px;
  font-weight:bold;
  font-size:18px;
}

/* Screens hidden */
.screen { display:none; }

/* game buttons */
button{
  background:#ff5fb9;
  border:none;
  padding:15px 25px;
  font-size:20px;
  margin:8px;
  border-radius:10px;
  color:white;
  cursor:pointer;
}

.tiles{
  display:grid;
  grid-template-columns:repeat(5,60px);
  justify-content:center;
  gap:6px;
}

.tile{
  width:60px;
  height:60px;
  background:#ff90cc;
  border-radius:7px;
  cursor:pointer;
  font-size:25px;
  display:flex;
  justify-content:center;
  align-items:center;
  user-select:none;
}

/* Blinko */
.blinkoBox{
  background:#ffaddc;
  height:430px;
  width:300px;
  border-radius:20px;
  margin:auto;
  position:relative;
}

/* Ball Escape */
.circleBox{
  margin:auto;
  width:330px;
  height:330px;
  border-radius:50%;
  border:24px solid #ff0096;
  position:relative;
  overflow:hidden;
}

.ball{
  width:35px;
  height:35px;
  background:#00ffcc;
  border-radius:50%;
  position:absolute;
  left:145px;
  top:145px;
}

.hole{
  width:80px;
  height:50px;
  background:#00ff00;
  position:absolute;
  left:120px;
  top:-20px;
}

.winLoseBox{
  width:100%;
  height:100px;
  background:#00000055;
  display:flex;
  justify-content:center;
  align-items:center;
  font-size:40px;
  border-radius:10px;
  margin-top:10px;
}

</style>
</head>



<body>

<div class="navbar">
  <div onclick="openLobby()">Lobby</div>
  <div onclick="openMines()">Mines</div>
  <div onclick="openBlinko()">Blinko</div>
  <div onclick="openEscape()">Ball Escape</div>
</div>

<h2>Balance: <span id="bal">100</span></h2>


<!-- =============== LOBBY =============== -->
<div id="lobby" class="screen">
  <h1>Johan Games</h1>
  <button onclick="openMines()">Play Mines</button>
  <button onclick="openBlinko()">Play Blinko</button>
  <button onclick="openEscape()">Play Ball Escape</button>
</div>



<!-- =============== MINES =============== -->
<div id="mines" class="screen">
  <h1>Mines</h1>
  <h3>Bet: 1 coin</h3>

  <button onclick="startMines()">Start Game</button>
  <h2 id="mineResult"></h2>

  <div class="tiles" id="mineField"></div>
</div>



<!-- =============== BLINKO =============== -->
<div id="blinko" class="screen">
  <h1>Blinko</h1>
  <h3>Bet: 1 coin</h3>
  <button onclick="startBlinko()">Drop Ball</button>

  <div class="blinkoBox" id="blinkoBox"></div>
  <h2 id="blinkoOut"></h2>
</div>



<!-- =============== BALL ESCAPE =============== -->
<div id="escape" class="screen">
  <h1>Ball Escape</h1>
  <h3>Bet: 1 coin</h3>
  <button onclick="startEscape()">Start</button>

  <div class="circleBox" id="circle">
      <div class="hole" id="hole"></div>
      <div class="ball" id="escapeBall"></div>
  </div>

  <div class="winLoseBox" id="escapeOut"></div>
</div>




<script>

/*********************** NAVIGATION ***********************/

function hideAll(){
  lobby.style.display="none";
  mines.style.display="none";
  blinko.style.display="none";
  escape.style.display="none";
}

function openLobby(){ hideAll(); lobby.style.display="block"; }
function openMines(){ hideAll(); mines.style.display="block"; }
function openBlinko(){ hideAll(); blinko.style.display="block"; }
function openEscape(){ hideAll(); escape.style.display="block"; }

openLobby();


/*********************** BALANCE ***********************/
let bal = 100;
function updateBal(){ balElem.innerHTML=bal; }
const balElem=document.getElementById("bal");




/*********************** MINES ***************************/
let mineBoard=[];
let mineGameOn=false;

function startMines(){
  if(bal<1){alert("no money"); return;}
  bal-=1; updateBal();
  mineGameOn=true;
  mineBoard=[];
  mineField.innerHTML="";

  for(let i=0;i<25;i++){
    const tile=document.createElement("div");
    tile.className="tile";
    tile.onclick=function(){pickMine(i,tile)};
    mineField.append(tile);
    mineBoard.push(Math.random()<0.2); 
  }
  mineResult.innerHTML="Find stars!";
}

function pickMine(i,tile){
  if(!mineGameOn)return;

  if(mineBoard[i]){
    tile.style.background="red";
    mineResult.innerHTML="ðŸ’¥ Lose";
    mineGameOn=false;
  } else {
    tile.style.background="lime";
    bal+=2; updateBal();
    mineResult.innerHTML="+2 win!";
  }
}



/*********************** BLINKO ***************************/
function startBlinko(){
  if(bal<1){alert("no money"); return;}
  bal-=1; updateBal();
  blinkoOut.innerHTML="";

  const box=document.getElementById("blinkoBox");
  box.innerHTML="";

  const ball=document.createElement("div");
  ball.style.width="25px";
  ball.style.height="25px";
  ball.style.borderRadius="50%";
  ball.style.background="#00ffea";
  ball.style.position="absolute";
  ball.style.left="140px";
  ball.style.top="10px";

  box.append(ball);

  let x=140;
  let y=10;
  let dir=0;

  let fall=setInterval(()=>{
    y+=7;
    x+=Math.random()*14-7;
    ball.style.top=y+"px";
    ball.style.left=x+"px";

    if(y>370){
      clearInterval(fall);

      let zone=Math.floor((x-10)/40);
      if(zone==3){
        bal+=3;
        blinkoOut.innerHTML="2x WIN!";
      } else if(zone==2 || zone==4){
        bal+=2;
        blinkoOut.innerHTML="1.5x Win!";
      } else {
        blinkoOut.innerHTML="Lose";
      }
      updateBal();
    }
  },40);
}





/*********************** BALL ESCAPE ***************************/
let angle=0;
let spin;

function startEscape(){
  if(bal<1){alert("no money"); return;}
  bal-=1; updateBal();

  escapeOut.innerHTML="";

  angle=0;
  clearInterval(spin);

  spin=setInterval(()=>{
    angle+=3;
    hole.style.transform="rotate("+angle+"deg)";
  },40);

  let bX=145,bY=145;
  let dX=4,dY=4;

  let bounce=setInterval(()=>{
    let ball=document.getElementById("escapeBall");
    bX+=dX;
    bY+=dY;

    if(bX<10 || bX>280) dX*=-1;
    if(bY<10 || bY>280) dY*=-1;

    ball.style.left=bX+"px";
    ball.style.top=bY+"px";

    if(bY<0 && Math.abs(bX-145)<60){
      clearInterval(bounce);
      clearInterval(spin);
      bal+=3;
      updateBal();
      escapeOut.innerHTML="WIN!";
    }

    if(bX<0 || bX>300 || bY<0 || bY>300){
      clearInterval(bounce);
      clearInterval(spin);
      escapeOut.innerHTML="LOSE";
    }

  },30);
}

</script>

</body>
</html>
